<html>

<head>
	<title>Coffee App</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.0/angular-material.min.css">
	<link rel="icon" type="image/png" href="coffee.png" />
	
	<style>
		.selected {
			background-color: rgba(255,255,255,.15);
		}
		
		div.button {
			outline:none;
 			cursor: pointer;
		}
	</style>
</head>

<body ng-app="coffeLight" ng-cloak>
    
	<link rel="manifest" href="/manifest.json">
	<script src="./resize-observer-polyfill.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-messaging.js"></script>
	<script src="./firebase.js"></script>
	<script src="./app.js"></script>

    <!-- Angular Material requires Angular.js Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular-aria.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular-messages.min.js"></script>

    <!-- Angular Material Library -->
	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.0/angular-material.js"></script>
	
	<!-- MD Icons -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/86/three.js"></script>
	<script src="./styles/kicker.js"></script>
	<script src="./styles/coffee.js"></script>
	<script src="./styles/lunch.js"></script>

	<script src="./GroupDialog.js"></script>
  <script src="./JoinDialog.js"></script>
  <script src="./MainController.js"></script>

    <div id="main" ng-controller="AppCtrl" layout="column" style="height:100%;" ng-cloak>

        <section layout="row" flex>

            <md-sidenav class="md-whiteframe-z2"
				layout="column" style="overflow: hidden;" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
                
				<md-toolbar ng-click="showSetName($event)" class="md-theme-indigo" style="cursor: pointer;">
					<div class="md-toolbar-tools">
						<h2 flex md-truncate style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Hello {{name}}</h2>
						<md-button class="md-icon-button" aria-label="Change your Name" title="Change your Name">
							<md-icon class="material-icons">edit</md-icon>
						</md-button>
					</div>
                </md-toolbar>
					
					<div layout="column" layout-align="space-between stretch" style="height: 100%;">
					   <md-list>
						  <md-list-item ng-class="activeGroupId == group.id ? 'selected' : false" 
							ng-click="activateGroup(group.id)" ng-repeat="group in groups" role="link">
							<p>{{group.name}}</p>
							  <md-button ng-click="leaveGroup(group.id)" class="md-icon-button md-secondary">
								<md-icon class="material-icons" aria-label="leave group">cancel</md-icon>
							  </md-button>
						  </md-list-item>
						  
					  </md-list>
					  
					  <md-list>
						  <md-divider></md-divider>
						  <md-list-item ng-click="showJoinGroup($event)" role="link">
							<md-icon class="material-icons">group_add</md-icon>
							<p class="md-body-2">Join a Group</p>
						  </md-list-item>
						  <md-list-item ng-click="showCreateGroup($event)" role="link">
							<md-icon class="material-icons">fiber_new</md-icon>
							<p class="md-body-2">Create a Group</p>
						  </md-list-item>
					  </md-list>
				  </div>

            </md-sidenav>

			<md-content layout="column" layout-fill>
				<md-toolbar class="animate-show md-whiteframe-z1">
					<div class="md-toolbar-tools">
						<md-button class="md-icon-button" ng-click="toggleLeft()" hide-gt-md aria-label="Menu">
							<md-icon class="material-icons">menu</md-icon>
						</md-button>
						<h2 flex md-truncate style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{activeGroup.name}}</h2>
						<md-button class="md-icon-button" ng-click="showEditDialog($event)" aria-label="Edit Group" title="Edit Group">
							<md-icon class="material-icons">edit</md-icon>
						</md-button>
					</div>
				</md-toolbar>
				
				<md-content  style="overflow: hidden;" id="buttonContainer" flex layout-padding>
					<div ng-click="buttonClicked($event, style)" id="button" style="position: absolute" class="button">
						<div style="position: absolute; text-align: center; top: 50%; transform: translateY(-50%);">{{activeGroup.requestText}}</div>
					</div>
				</md-content>
			</md-content>
				
        </section>
		</div>

    </div>

</body>

</html>